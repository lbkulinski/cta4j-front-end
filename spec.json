{
  "openapi": "3.0.1",
  "info": {
    "title": "OpenAPI definition",
    "version": "v0"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "name": "Trains",
      "description": "Operations for retrieving train data, including upcoming stations for a specific train run."
    },
    {
      "name": "Routes",
      "description": "Operations for retrieving route data, including stops and directions for a specific route."
    },
    {
      "name": "Buses",
      "description": "Operations for retrieving bus data, including upcoming stops for a specific bus."
    },
    {
      "name": "Stations",
      "description": "Operations for retrieving station data, including upcoming train arrivals at a specific station."
    }
  ],
  "paths": {
    "/api/trains/{run}/stations": {
      "get": {
        "tags": [
          "Trains"
        ],
        "summary": "Retrieve upcoming stations for a train run.",
        "description": "Retrieves a list of upcoming stations for a specific train, identified by its run number.",
        "operationId": "getUpcomingStations",
        "parameters": [
          {
            "name": "run",
            "in": "path",
            "description": "The unique run number of the train.",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error."
          },
          "200": {
            "description": "Successfully retrieved the list of upcoming stations.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Train"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Train run not found."
          }
        }
      }
    },
    "/api/stations": {
      "get": {
        "tags": [
          "Stations"
        ],
        "summary": "Retrieve the list of train stations.",
        "description": "Retrieves the list of all available train stations in the system.",
        "operationId": "getStations",
        "responses": {
          "500": {
            "description": "Internal server error."
          },
          "200": {
            "description": "Successfully retrieved the list of train stations.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Station"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/stations/{stationId}/arrivals": {
      "get": {
        "tags": [
          "Stations"
        ],
        "summary": "Retrieve upcoming train arrivals for a station.",
        "description": "Retrieves a list of upcoming train arrivals for a specific station, identified by the station ID.",
        "operationId": "getArrivals",
        "parameters": [
          {
            "name": "stationId",
            "in": "path",
            "description": "The unique ID of the station.",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved the list of upcoming train arrivals.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Train"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error."
          },
          "404": {
            "description": "Station not found."
          }
        }
      }
    },
    "/api/routes": {
      "get": {
        "tags": [
          "Routes"
        ],
        "summary": "Retrieve the list of routes.",
        "description": "Retrieves the list of all available routes in the system.",
        "operationId": "getRoutes",
        "responses": {
          "500": {
            "description": "Internal server error."
          },
          "200": {
            "description": "Successfully retrieved the list of routes.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Route"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/routes/{routeId}/stops/{stopId}/arrivals": {
      "get": {
        "tags": [
          "Routes"
        ],
        "summary": "Retrieve upcoming bus arrivals for a stop on a route.",
        "description": "Retrieves a list of upcoming bus arrivals for a specific stop on a route, identified by the route ID and stop ID.",
        "operationId": "getArrivals_1",
        "parameters": [
          {
            "name": "routeId",
            "in": "path",
            "description": "The unique ID of the route.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "stopId",
            "in": "path",
            "description": "The unique ID of the stop.",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error."
          },
          "200": {
            "description": "Successfully retrieved the list of upcoming bus arrivals.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Bus"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Route or stop not found."
          }
        }
      }
    },
    "/api/routes/{routeId}/directions": {
      "get": {
        "tags": [
          "Routes"
        ],
        "summary": " Retrieve directions for a route.",
        "description": "Retrieves a list of directions (e.g., Northbound or Southbound) for a specific route, identified by the route ID.",
        "operationId": "getDirections",
        "parameters": [
          {
            "name": "routeId",
            "in": "path",
            "description": "The unique ID of the route.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error."
          },
          "200": {
            "description": "Successfully retrieved the list of directions for the route.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "description": "Represents a direction for a route (e.g., Northbound or Southbound).",
                    "enum": [
                      "NORTHBOUND",
                      "SOUTHBOUND",
                      "EASTBOUND",
                      "WESTBOUND"
                    ]
                  }
                }
              }
            }
          },
          "404": {
            "description": "Route not found."
          }
        }
      }
    },
    "/api/routes/{routeId}/directions/{direction}/stops": {
      "get": {
        "tags": [
          "Routes"
        ],
        "summary": "Retrieve stops for a route and direction.",
        "description": "Retrieves a list of stops for a specific route and direction, identified by the route ID and direction.",
        "operationId": "getStops",
        "parameters": [
          {
            "name": "routeId",
            "in": "path",
            "description": "The unique ID of the route.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "direction",
            "in": "path",
            "description": "The direction of the route (e.g., Northbound or Southbound).",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error."
          },
          "200": {
            "description": "Successfully retrieved the list of stops for the route and direction.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Stop"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Route or direction not found."
          }
        }
      }
    },
    "/api/buses/{id}/stops": {
      "get": {
        "tags": [
          "Buses"
        ],
        "summary": "Retrieve upcoming stops for a bus.",
        "description": "Retrieves a list of upcoming stops for a specific bus, identified by its ID.",
        "operationId": "getUpcomingStops",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "The unique ID of the bus.",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error."
          },
          "404": {
            "description": "Bus not found."
          },
          "200": {
            "description": "Successfully retrieved the list of upcoming stops.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Bus"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Train": {
        "required": [
          "arrivalTime",
          "delayed",
          "destination",
          "due",
          "line",
          "predictionTime",
          "run",
          "scheduled",
          "station"
        ],
        "type": "object",
        "properties": {
          "run": {
            "type": "integer",
            "description": "The unique run number of the train.",
            "format": "int32"
          },
          "line": {
            "type": "string",
            "description": "Represents the different transit lines in the system.",
            "example": "RED",
            "enum": [
              "RED",
              "BLUE",
              "BROWN",
              "GREEN",
              "ORANGE",
              "PURPLE",
              "PINK",
              "YELLOW",
              "N_A"
            ]
          },
          "destination": {
            "type": "string",
            "description": "The final destination of the train."
          },
          "station": {
            "type": "string",
            "description": "The station where the train will next arrive."
          },
          "predictionTime": {
            "type": "string",
            "description": "The time when the arrival prediction was made.",
            "format": "date-time",
            "example": "2024-10-08T13:33:05Z"
          },
          "arrivalTime": {
            "type": "string",
            "description": "The estimated arrival time of the train at the station.",
            "format": "date-time",
            "example": "2024-10-08T20:27:15Z"
          },
          "due": {
            "type": "boolean",
            "description": "Indicates whether the train is due to arrive soon."
          },
          "scheduled": {
            "type": "boolean",
            "description": "Indicates whether the train is arriving according to its schedule."
          },
          "delayed": {
            "type": "boolean",
            "description": "Indicates whether the train is delayed."
          }
        },
        "description": "Represents a train and its schedule information."
      },
      "Station": {
        "required": [
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The unique identifier of the station.",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "description": "The name of the station."
          }
        },
        "description": "Represents a train station and its details."
      },
      "Route": {
        "required": [
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique identifier of the route."
          },
          "name": {
            "type": "string",
            "description": "The name of the route."
          }
        },
        "description": "Represents a bus route and its details."
      },
      "Bus": {
        "required": [
          "arrivalTime",
          "delayed",
          "destination",
          "id",
          "predictionTime",
          "route",
          "stop",
          "type"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The unique identifier of the bus.",
            "format": "int32"
          },
          "type": {
            "type": "string",
            "description": "Represents the type of stop event, indicating whether the vehicle is arriving at or departing from a stop.",
            "example": "ARRIVAL",
            "enum": [
              "ARRIVAL",
              "DEPARTURE"
            ]
          },
          "stop": {
            "type": "string",
            "description": "The stop where the bus will next arrive or depart."
          },
          "route": {
            "type": "string",
            "description": "The route on which the bus is operating."
          },
          "destination": {
            "type": "string",
            "description": "The final destination of the bus."
          },
          "predictionTime": {
            "type": "string",
            "description": "The time when the arrival or departure prediction was made.",
            "format": "date-time",
            "example": "2024-10-07T12:34:56Z"
          },
          "arrivalTime": {
            "type": "string",
            "description": "The estimated arrival or departure time of the bus at the stop.",
            "format": "date-time",
            "example": "2024-10-07T12:40:00Z"
          },
          "delayed": {
            "type": "boolean",
            "description": "Indicates whether the bus is delayed."
          }
        },
        "description": "Represents a bus and its schedule information."
      },
      "Stop": {
        "required": [
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The unique identifier of the stop.",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "description": "The name of the stop."
          }
        },
        "description": "Represents a stop on a route."
      }
    }
  }
}